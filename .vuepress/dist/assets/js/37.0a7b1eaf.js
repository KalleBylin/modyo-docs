(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{221:function(e,a,o){"use strict";o.r(a);var n=o(0),t=Object(n.a)({},(function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"integrations"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#integrations"}},[e._v("#")]),e._v(" Integrations")]),e._v(" "),o("p",[e._v("Una de las funciones más importantes para facilitar el ingreso de clientes a Modyo es su integración con distintos servicios de protocolos de autenticación.")]),e._v(" "),o("p",[e._v("Actualmente la plataforma es compatible con:")]),e._v(" "),o("ul",[o("li",[e._v("Facebook")]),e._v(" "),o("li",[e._v("Google")]),e._v(" "),o("li",[e._v("LDAP")]),e._v(" "),o("li",[e._v("SAML")]),e._v(" "),o("li",[e._v("Oauth2")]),e._v(" "),o("li",[e._v("OpenID Connect")])]),e._v(" "),o("p",[e._v("Recuerda tener a mano todos los datos y certificados que se te exigen, antes de cambiarlos o integrar algún servicio, para que no se produzcan problemas con el ingreso general de los usuarios.")]),e._v(" "),o("h3",{attrs:{id:"using-keycloak"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#using-keycloak"}},[e._v("#")]),e._v(" Using keycloak")]),e._v(" "),o("p",[e._v("Keycloak es un identity provider certificado de OpenID Connect que implementa la mayoría de las funcionalidades de la integración OpenID connect de Modyo.")]),e._v(" "),o("h4",{attrs:{id:"register-a-new-client-aplication"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#register-a-new-client-aplication"}},[e._v("#")]),e._v(" Register a new client aplication")]),e._v(" "),o("ol",[o("li",[e._v("Accede a la consola administrativa, por ejemplo "),o("a",{attrs:{href:"https://keycloak.example.com/auth/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://keycloak.example.com/auth/"),o("OutboundLink")],1),e._v(" y agrega un nuevo realm.")]),e._v(" "),o("li",[e._v("Agrega una aplicación cliente usando "),o("code",[e._v("openid-connect")]),e._v(" como "),o("strong",[e._v("Client Protocol")]),e._v(" para la integración con Modyo.")]),e._v(" "),o("li",[e._v("Configura "),o("strong",[e._v("Acces Type")]),e._v(" "),o("code",[e._v("confidential")]),e._v(" y deja habilitado solo el "),o("strong",[e._v("Standard Flow")]),e._v(".")]),e._v(" "),o("li",[e._v("Configura las "),o("strong",[e._v("Valid Redirect URIs")]),e._v(" con las URLs de callback y logout de la cuenta Modyo, usando las URLs relativas a la cuenta "),o("code",[e._v("/auth/openidc/callback")]),e._v(" y "),o("code",[e._v("/logout*")]),e._v(".")])]),e._v(" "),o("h4",{attrs:{id:"integration-settings"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#integration-settings"}},[e._v("#")]),e._v(" Integration settings")]),e._v(" "),o("p",[e._v("La siguiente configuración es válida tanto para las integraciones de usuarios de Team como de Customer.")]),e._v(" "),o("ol",[o("li",[e._v("Accede a "),o("strong",[e._v("Configuración/Configuración de customers > Integraciones > OpenID Connect")]),e._v(" y completa "),o("strong",[e._v("Client ID")]),e._v(" y "),o("strong",[e._v("Secret")]),e._v(" con el nombre del cliente y las credenciales que aparecen en la tab "),o("strong",[e._v("Credentials")]),e._v(" del cliente en Keycloak.")]),e._v(" "),o("li",[e._v("En Issuer, rellena con la URL del realm, por ejemplo, para el realm my-realm la URL es "),o("code",[e._v("https://keycloak.example.com/auth/realms/my-realm")]),e._v(".")]),e._v(" "),o("li",[e._v("Haz click en "),o("strong",[e._v("Lanzar servicio de descubrimiento")]),e._v(", esto completará la mayoría de las configuraciones.")]),e._v(" "),o("li",[e._v("Configura los "),o("strong",[e._v("Scopes")]),e._v(" con los scopes requeridos para la aplicación. Usa "),o("code",[e._v("openid,email,profile")]),e._v(" en caso de que no cuentes con scopes personalizados.\n"),o("table",[o("thead",[o("tr",[o("th"),e._v(" "),o("th")])]),e._v(" "),o("tbody",[o("tr",[o("td",[o("strong",[e._v("Habilitar refresh token")])]),e._v(" "),o("td",[e._v("Habilita el refresco de tokens administrado por Modyo. Los access tokens serán renovados automáticamente por la plataforma si el usuario mantiene actividad en el sitio y cuenta con un refresh token válido.")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar cierre de sesión")])]),e._v(" "),o("td",[e._v("Habilita el cierre de sesión en el provider al cerrar la sesión en Modyo. Esto permite cerrar efectivamente la sesión, obligando al usuario a identificarse nuevamente en Keycloak, deshabilitando la experiencia SSO.")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar revocación de token")])]),e._v(" "),o("td",[e._v("No soportado por Keycloak")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar sincronización de "),o("em",[e._v("claims")]),e._v(" al momento de iniciar sesión")])]),e._v(" "),o("td",[e._v("Habilita la sincronización de "),o("em",[e._v("claims")]),e._v(" OpenID Connect con custom fields en Modyo. Más información en  "),o("a",{attrs:{href:"#sincronizacion-de-_claims_"}},[e._v("Sincronización de "),o("em",[e._v("claims")])]),e._v(".")])])])])])]),e._v(" "),o("h3",{attrs:{id:"using-azure-active-directory"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#using-azure-active-directory"}},[e._v("#")]),e._v(" Using Azure active directory")]),e._v(" "),o("p",[e._v("Azure Active Directory es un servicio de identidad cloud de Microsoft Azure que permite implementar un esquema híbrido de identidad basado en directorios on-premise con SSO en la nube.")]),e._v(" "),o("h4",{attrs:{id:"register-a-new-client-aplication-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#register-a-new-client-aplication-2"}},[e._v("#")]),e._v(" Register a new client aplication")]),e._v(" "),o("ol",[o("li",[e._v("Inicia sesión en "),o("a",{attrs:{href:"https://portal.azure.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Portal"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("li",[e._v("En la barra de búsqueda, busca por "),o("strong",[e._v("Azure Active Directory")]),e._v(", y luego selecciona "),o("strong",[e._v("App registrations > New registration")]),e._v(".")]),e._v(" "),o("li",[e._v("Completa la siguiente información\n"),o("ul",[o("li",[o("strong",[e._v("Name")]),e._v(": Usa un nombre significativo, por ejemplo, "),o("code",[e._v("modyo-production")]),e._v(".")]),e._v(" "),o("li",[o("strong",[e._v("Supported account types")]),e._v(": Usa "),o("strong",[e._v('"Accounts in any organizational directory and personal Microsoft accounts"')]),e._v(" para incluir cuentas personales de Microsoft. Puedes encontrar más información al respecto "),o("a",{attrs:{href:"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps",target:"_blank",rel:"noopener noreferrer"}},[e._v("aquí"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("li",[o("strong",[e._v("Redirect URI")]),e._v(": Usa la URL relativa a la cuenta "),o("code",[e._v("/auth/openidc/callback")]),e._v(".")])])]),e._v(" "),o("li",[e._v("Una vez creada la aplicación, ve a "),o("strong",[e._v("App registrations > modyo-production")]),e._v(" y obtene el "),o("strong",[e._v("Application ID")]),e._v(" y "),o("strong",[e._v("Directory ID")]),e._v(".")]),e._v(" "),o("li",[e._v("Ve a "),o("strong",[e._v("App registrations > Certificates & secrets")]),e._v(" y crea un nuevo secreto con el botón "),o("strong",[e._v("New client secret")]),e._v(".")])]),e._v(" "),o("h4",{attrs:{id:"integration-settings-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#integration-settings-2"}},[e._v("#")]),e._v(" Integration settings")]),e._v(" "),o("p",[e._v("La siguiente configuración es válida tanto para las integraciones de usuarios de Team como de Customer.")]),e._v(" "),o("ol",[o("li",[e._v("Accede a "),o("strong",[e._v("Configuración/Configuración de customers > Integrations > OpenID Connect")]),e._v(", y completa "),o("strong",[e._v("Client ID")]),e._v(" y "),o("strong",[e._v("Secret")]),e._v(" con las credenciales obtenidas del portal de Azure.")]),e._v(" "),o("li",[e._v("En la consola de Azure ir a "),o("strong",[e._v("App registrations > Endpoints")]),e._v(" y obtener URLs para "),o("strong",[e._v("Authorization endpoint")]),e._v(" y "),o("strong",[e._v("Token endpoint")]),e._v(". Visitar el OpenID Connect metadata document y conseguir "),o("strong",[e._v("Userinfo endpoint")]),e._v(" y "),o("strong",[e._v("End session endpoint")]),e._v(".")]),e._v(" "),o("li",[e._v("Configura "),o("strong",[e._v("Scopes")]),e._v(" con los scopes requeridos para la aplicación. Usa "),o("code",[e._v("openid,email,profile")]),e._v(" en caso de que no contar con scopes personalizados.")]),e._v(" "),o("li",[e._v("Habilita características opcionales de la integración.\n"),o("table",[o("thead",[o("tr",[o("th"),e._v(" "),o("th")])]),e._v(" "),o("tbody",[o("tr",[o("td",[o("strong",[e._v("Habilitar refresh token")])]),e._v(" "),o("td",[e._v("Habilita el refresco de tokens administrado por Modyo. Los access tokens serán renovados automáticamente por la plataforma si el usuario mantiene actividad en el sitio y cuenta con un refresh token válido.")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar cierre de sesión")])]),e._v(" "),o("td",[e._v("Habilita el cierre de sesión en el provider al cerrar la sesión en Modyo. Esto permite cerrar efectivamente la sesión, obligando al usuario a identificarse nuevamente en Azure AD, deshabilitando la experiencia SSO.")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar revocación de token")])]),e._v(" "),o("td",[e._v("No soportado por Azure AD")])]),e._v(" "),o("tr",[o("td",[o("strong",[e._v("Habilitar sincronización de "),o("em",[e._v("claims")]),e._v(" al momento de iniciar sesión")])]),e._v(" "),o("td",[e._v("Habilita la sincronización de "),o("em",[e._v("claims")]),e._v(" OpenID Connect con custom fields en Modyo.")])])])])])]),e._v(" "),o("h3",{attrs:{id:"claims-syncronization"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#claims-syncronization"}},[e._v("#")]),e._v(" "),o("em",[e._v("claims")]),e._v(" syncronization")]),e._v(" "),o("p",[e._v("Modyo permite sincronizar atributos y otras propiedades de los usuarios de Customers a través de "),o("em",[e._v("claims")]),e._v(" estándar y adicionales de OpenID Connect.")]),e._v(" "),o("ol",[o("li",[e._v("En "),o("strong",[e._v("Clients > Mappers")]),e._v(" crea un nuevo "),o("strong",[e._v("Protocol Mapper")]),e._v(" con el atributo o propiedad del usuario. Asegúrate de que "),o("strong",[e._v("Add to userinfo")]),e._v(" esté habilitado.")]),e._v(" "),o("li",[e._v("En "),o("strong",[e._v("Customers >  Configuración de customers > Custom fields")]),e._v(" agrega un nuevo "),o("strong",[e._v("Custom Field")]),e._v(" con un tipo de datos equivalente al claim.")]),e._v(" "),o("li",[e._v("En "),o("strong",[e._v("Customers > Configuración de customers > Integrations > OpenID Connect")]),e._v(" habilita "),o("strong",[e._v("Enable "),o("em",[e._v("claims")]),e._v(" synchronization on login")]),e._v(" y agrega "),o("em",[e._v("claims")]),e._v(" mappings para cada uno de tus "),o("em",[e._v("claims")]),e._v(".")])]),e._v(" "),o("h2",{attrs:{id:"webhooks"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#webhooks"}},[e._v("#")]),e._v(" Webhooks")]),e._v(" "),o("p",[e._v("La plataforma también permite la instalación de Webhooks en sitios específicos. Para ello, se deben habilitar y configurar desde aquí.")]),e._v(" "),o("p",[e._v("Para habilitarlos, hay que hacer check en la parte superior de la página y después proceder a crearlo.")]),e._v(" "),o("p",[e._v("Al crearlo, se debe tener la URL del Webhook, seleccionar un tipo de log para aplicarlo y después el sitio en que se insertará.")]),e._v(" "),o("p",[e._v("Tras esto, se podrá ver en la lista de todos los webhooks que estén activos y su registro de movimientos.")])])}),[],!1,null,null,null);a.default=t.exports}}]);